<div id="modalAddRevenues" tabindex="-1" aria-labelledby="modalAddRevenues" aria-hidden="true" class="modal fade">
    <div class="modal-dialog modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h1 id="modalAddRevenues" class="modal-title fs-5 text-primary fw-bold">Adicionar Nova Receita</h1>
                <button type="button" data-bs-dismiss="modal" aria-label="Close" class="btn-close"></button>
            </div>
            <div class="modal-body">

                @if(hasRevenuesLastMonth) {
                    <div class="form-check form-switch mb-4">
                        <input type="checkbox" class="form-check-input" role="switch" id="flexSwitchLastRevenues" (click)="getSwitchValue($event)">
                        <label for="flexSwitchLastRevenues" class="form-check-label text-primary">Repetir dados do mês passado</label>
                    </div>
                }

                @if(getRevenuesFromLastMonth) {
                    <div>
                        @for( revenueItem of revenues; track $index) {
                            <div class="row">
                                <div class="col">
                                    <div class="form-floating mb-3">
                                        <input type="text" class="form-control w-50" id="revenueDescription{{ $index }}" value="{{ revenueItem.description }}" disabled>
                                        <label for="revenueDescription{{ $index }}">Descrição da Receita</label>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col">
                                    <div class="form-floating mb-3">
                                        <input type="text" class="form-control w-50" value="{{ revenueItem.value }}" id="revenueValue{{ $index }}" style="text-align: left;" disabled>
                                        <label for="revenueValue{{ $index }}">Valor</label>
                                    </div>
                                </div>
                            </div>
                        }
                    </div>
                } @else if(!getRevenuesFromLastMonth) {
                    <div>
                        @for(item of revenues; track $index) {
                             @if($index>=1) {
                                <hr>
                            }
                            <div class="row">
                                <div class="col">
                                    <div class="form-floating mb-3">
                                        <input type="text" class="form-control w-50" id="revenueDescription{{ $index }}">
                                        <label for="revenueDescription{{ $index }}">Descrição da Receita</label>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col">
                                    <div class="form-floating mb-3">
                                        <input type="text" class="form-control w-50" id="revenueValue{{ $index }}" style="text-align: left;" currencyMask [options]="currencyMaskOptions">
                                        <label for="revenueValue{{ $index }}">Valor</label>
                                    </div>
                                </div>
                                @if(revenues.length==1) {
                                    <div class="col col-3">
                                        <a (click)="addItemToList()" type="button" class="mt-2 ms-1">
                                            <i class="bi bi-plus-circle text-success fs-4"></i>
                                        </a>
                                    </div>
                                } @else if($index>=1 && $index==revenues.length-1) {
                                    <div class="col col-3">
                                        <a (click)="addItemToList()" type="button" class="mt-2 ms-1">
                                            <i class="bi bi-plus-circle text-success fs-4"></i>
                                        </a>
                                        <a (click)="removeLastItemFromLista()" type="button" class="mt-2 ms-1">
                                            <i class="bi bi-x-circle-fill text-danger fs-4"></i>
                                        </a>
                                    </div>
                                }
                            </div>
                        }
                    </div>
                }

                <div class="row">
                    <div class="col col-6">
                        <div class="form-floating">
                            <select name="month" id="monthRevenue" class="form-control w-75">
                                <option value="selecione o mês">Selecione o mês</option>
                                @for(item of monthsList; track $index) {
                                    <option value="{{ item }}">{{ item }}</option>
                                }
                            </select>
                            <label for="monthRevenue">Mês</label>
                        </div>
                    </div>
                    <div class="col col-6">
                        <div class="form-floating">
                            <select name="year" id="yearRevenue" class="form-control w-75">
                                <option value="selecione o ano">Selecione o ano</option>
                                 @for(item of yearsList; track $index) {
                                    <option value="{{ item }}">{{ item }}</option>
                                }
                            </select>
                            <label for="yearRevenue">Ano</label>
                        </div>
                    </div>
                </div>
                
            </div> 
            <div class="modal-footer">
                <button 
                    type="button" 
                    data-bs-dismiss="modal" 
                    aria-label="Close" 
                    class="btn btn-secondary"
                >Cancelar</button>
                <button
                    type="button"
                    id="buttonDeletePendingIssues"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                    class="btn btn-primary"
                    disabled
                >Cadastrar</button>
            </div>
        </div>
    </div>
</div>

