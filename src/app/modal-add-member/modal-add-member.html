<div id="modalAddMember" tabindex="-1" aria-labelledby="modalAddMember" aria-hidden="true" class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 id="modalAddMember" class="modal-title fs-5 text-primary fw-bold">Adicionar Membro</h1>
        <button type="button" data-bs-dismiss="modal" aria-label="Close" class="btn-close"></button>
      </div>
      <div class="modal-body">
        <form [formGroup]="form" class="ng-pristine ng-invalid ng-toouched">
            <label for="nameMember" class="text-info">Nome: </label>
            <input type="text" id="nameMember" formControlName="nameDependent" class="form-control ng-pristine ng-invalid ng-touched mb-2">
            
            @if(form.get('nameDependent')?.invalid && (form.get('nameDependent')?.dirty || form.get('nameDependent')?.touched)) {
              <div>
                  <p class="text-danger mb-2">Campo obrigatório</p>
              </div>
            }
            
            <label for="emailMember" class="text-info">E-mail: </label>
            <input type="email" id="emailMember" formControlName="emailDependent" class="form-control ng-pristine ng-invalid ng-touched">

            @if(form.get('emailDependent')?.invalid && (form.get('emailDependent')?.dirty || form.get('emailDependent')?.touched)) {
              <div>
                  <p class="text-danger mb-2">Endereço de e-mail inválido</p>
              </div>
            }
            
            <button class="btn btn-primary my-2" [disabled]="!form.valid" (click)="generateInvite()">Gerar convite</button>
        </form>

        @if(loading) {
          <div class="d-flex justify-content-center my-5">
              <div class="spinner-border text-primary" role="status">
                  <span class="sr-only"></span>
              </div>
          </div>
        }

        @if(inviteGenerated) {
          <div id="inviteData">
            <br>
            <p>Convite gerado!</p>
            <p>Enviamos um e-mail ao dependente com os seguintes dados e instruções de acesso:</p>
            <p><b>E-mail: </b>{{ memberEmailAddress }}</p>
            <p><b>Convite: </b>{{ inviteCode }}</p>
            <p><b>Os dados acima devem ser utilizados no primeiro acesso!</b></p>
          </div>
        }
        
      </div>
    </div>
  </div>
</div>

